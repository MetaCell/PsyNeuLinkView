syntax = "proto3";

package psyneulinkviewer;


service ServeGraph {
    rpc LoadModel (ModelPath) returns (GraphJson) {}
    rpc UpdateModel (GraphJson) returns (Response) {}
    rpc GetModel (NullArgument) returns (GraphJson) {}
    rpc GetLoggableItems (Input) returns (PNLJson) {}
    rpc SetLoggableItems (PNLJson) returns (Response) {}
    rpc RunModel (InputJson) returns (Response) {}
    rpc GetResults (Input) returns (PNLJson) {}
    rpc PNLApi (PNLJson) returns (PNLJson) {}
}


enum ResponseMessage {
    UP_AND_RUNNING = 0;
    MESSAGE_OK = 1;
    MESSAGE_ERROR = 2;
    CLOSED_CONNECTION = 3;
}


message NullArgument {}

message Response {
    ResponseMessage response = 1;
    string message = 2;
}

message Input {
    string inputData = 1;
}

message PNLPath {
    string path = 1;
}

message ModelPath {
    string path = 1;
}

message GraphJson {
    string modelJson = 1;
}

message PNLJson {
    string genericJson = 1;
}

message InputJson {
    string executableNode = 1;
    string inputData = 2;
}
